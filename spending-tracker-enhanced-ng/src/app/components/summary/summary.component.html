@if (chartsViewModel$ | async; as vm) {

<div class="summary-container">
  <table>
    <tr class="header">
      <td class="category-name">Income</td>
      <td>Percentage</td>
      <td>Total</td>
    </tr>
    @for (expense of vm.childIncome; track $index) {
    <tr>
      <td class="category-name">{{ expense.category_Name }}</td>
      <td class="name">
        {{ expense.percent_Of_Total / 100 | percent : "1.2-2" }}
      </td>
      <td class="name">{{ expense.total_Amount | currency }}</td>
    </tr>
    }
  </table>

  <table>
    <tr class="header">
      <td class="category-name">Expenses, Investments, & Savings</td>
      <td>Percentage</td>
      <td>Total</td>
    </tr>
    @for (expense of vm.childExpenses; track $index) {
    <tr>
      <td class="category-name">{{ expense.category_Name }}</td>
      <td class="name">
        {{ expense.percent_Of_Total / 100 | percent : "1.2-2" }}
      </td>
      <td class="name">{{ expense.total_Amount | currency }}</td>
    </tr>
    }
  </table>

  <table>
    <tr class="header">
      <td class="category-name">Category Breakdown</td>
      <td>Percentage</td>
      <td>Total</td>
    </tr>
    @for (expense of vm.parentExpenses; track $index) {
    <tr>
      <td class="category-name">{{ expense.category_Name }}</td>
      <td class="name">
        {{ expense.percent_Of_Total / 100 | percent : "1.2-2" }}
      </td>
      <td class="name">{{ expense.total_Amount | currency }}</td>
    </tr>
    }
  </table>

  <ngx-charts-pie-chart
    [view]="view"
    [scheme]="colorScheme"
    [results]="vm.expensePieChart"
    [gradient]="gradient"
    [legend]="showLegend"
    [labels]="showLabels"
    [trimLabels]="false"
    [doughnut]="isDoughnut"
    (select)="onSelect($event)"
    (activate)="onActivate($event)"
    (deactivate)="onDeactivate($event)"
  >
  </ngx-charts-pie-chart>
  <ngx-charts-pie-chart
    [view]="view"
    [scheme]="colorScheme"
    [results]="vm.incomePieChart"
    [gradient]="gradient"
    [legend]="showLegend"
    [labels]="showLabels"
    [trimLabels]="false"
    [doughnut]="isDoughnut"
    (select)="onSelect($event)"
    (activate)="onActivate($event)"
    (deactivate)="onDeactivate($event)"
  >
  </ngx-charts-pie-chart>

  <!-- <ngx-charts-sankey
        [view]="view"
        [results]="sankeyData"
        [scheme]="colorScheme"
        [schemeType]="schemeType"
        [customColors]="colorScheme"
        [tooltipDisabled]="tooltipDisabled"
        [animations]="animations"
        [showLabels]="showLabels"
        (select)="onSelect($event)"
        (activate)="onActivate($event)"
        (deactivate)="onDeactivate($event)"
      >
      </ngx-charts-sankey> -->
</div>
}
